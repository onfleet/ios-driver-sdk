<!DOCTYPE html>
<html lang="en">
  <head>
    <title>SessionManaging Protocol Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>

    <a name="//apple_ref/swift/Protocol/SessionManaging" class="dashAnchor"></a>

    <a title="SessionManaging Protocol Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          Onfleet Driver SDK for iOS
        </a>
         (46% documented)
      </p>
    
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/onfleet/ios-driver-sdk">
            <img class="header-icon" src="../img/gh.png" alt="GitHub"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">OnfleetDriver Reference</a>
      <img class="carat" src="../img/carat.png" alt=""/>
      SessionManaging Protocol Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Driver%20Context.html">Driver Context</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/DriverContext.html">DriverContext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/DriverContext/Preconditions.html">– Preconditions</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Session.html">Session</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SessionManaging.html">SessionManaging</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Account.html">Account</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/LogoutReason.html">LogoutReason</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/InvitationResponse.html">InvitationResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Credentials.html">Credentials</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PhoneNumber.html">PhoneNumber</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Driver.html">Driver</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/DriverManaging.html">DriverManaging</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Driver.html">Driver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Task.html">Task</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Task/Requirements.html">– Requirements</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Organization.html">Organization</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Organization/Billing.html">– Billing</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Organization/CompletionReason.html">– CompletionReason</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Vehicle.html">Vehicle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Address.html">Address</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Recipient.html">Recipient</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Destination.html">Destination</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Barcode.html">Barcode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/CompletedTasksProviding.html">CompletedTasksProviding</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask.html">CompletedTask</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/Requirements.html">– Requirements</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/CompletionDetails.html">– CompletionDetails</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/RecipientContainer.html">– RecipientContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/ComputedContainer.html">– ComputedContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/Attachment.html">– Attachment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TaskCompletionDetails.html">TaskCompletionDetails</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TaskCompletionDetails/AgeVerification.html">– AgeVerification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TaskCompletionDetails/Result.html">– Result</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Location.html">Location</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/LocationManaging.html">LocationManaging</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Attachments.html">Attachments</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/AttachmentsManaging.html">AttachmentsManaging</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/AttachmentsDelegate.html">AttachmentsDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ImageAttachment.html">ImageAttachment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PhotoAttachments.html">PhotoAttachments</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/SignatureAttachment.html">SignatureAttachment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ImagePreparationResult.html">ImagePreparationResult</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Observables.html">Observables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ObservableModel.html">ObservableModel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Model.html">Model</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ModelProperty.html">ModelProperty</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Guides.html">Other Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../basic-usage.html">Basic Usage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../installation.html">Installation</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Classes.html">Other Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/KeychainPreferredOrgIdStorage.html">KeychainPreferredOrgIdStorage</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Global%20Variables.html">Other Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Global%20Variables/SessionDidLogOutReasonKey.html">SessionDidLogOutReasonKey</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Enums.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/AnalyticsError.html">AnalyticsError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/CompleteTaskError.html">CompleteTaskError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/CompletedTasksError.html">CompletedTasksError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/DataState.html">DataState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/DutyStatusError.html">DutyStatusError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/FetchingState.html">FetchingState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/FileLocation.html">FileLocation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/HTTPError.html">HTTPError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/HttpApi.html">HttpApi</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/HttpApi/ApiError.html">– ApiError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/LoginError.html">LoginError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/LoginStatus.html">LoginStatus</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/LoginStatus/LoginOperationType.html">– LoginOperationType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/LogoutError.html">LogoutError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/NewPasswordResult.html">NewPasswordResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RecipientContactMode.html">RecipientContactMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RemoveAccountRequest.html">RemoveAccountRequest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ResetPasswordError.html">ResetPasswordError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SMSCodeVerificationResult.html">SMSCodeVerificationResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SelfAssignError.html">SelfAssignError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/StartTaskError.html">StartTaskError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/UnitSystem.html">UnitSystem</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/UpdateProfileError.html">UpdateProfileError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ValueProvidingResult.html">ValueProvidingResult</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/VehicleType.html">VehicleType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Array.html">Array</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/CLLocationCoordinate2D.html">CLLocationCoordinate2D</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Notification.html">Notification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Notification/Name.html">– Name</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Optional.html">Optional</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Structs.html">Other Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AnalyticsStorgateFileName.html">AnalyticsStorgateFileName</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AppConfig.html">AppConfig</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/BarcodeRequest.html">BarcodeRequest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTaskStats.html">CompletedTaskStats</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/DriverLicense.html">DriverLicense</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/DriverProfileDetails.html">DriverProfileDetails</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/DriverProfileDetails/Vehicle.html">– Vehicle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/DriverProfileDetails/Value.html">– Value</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Metadata.html">Metadata</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Metadata/ValueType.html">– ValueType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Metadata/Visibility.html">– Visibility</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Typealiases.html">Other Type Aliases</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases/NewPasswordProvider.html">NewPasswordProvider</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Typealiases/SMSCode.html">SMSCode</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>SessionManaging</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">protocol</span> <span class="kt">SessionManaging</span> <span class="p">:</span> <span class="kt">AnyObject</span></code></pre>

                </div>
              </div>
            <p>Session is used for authentication and actions associated with driver&rsquo;s accounts.</p>

<p>A driver&rsquo;s phone number can be associated with multiple organizations. When user logs in using phone
number and password accounts property will be filled with list of accounts. Each accounts represents
an org in which the driver is included. There is always an active account. If driver is included in a single
org this account will be always returned. For multiple orgs you can use
<code><a href="../Protocols/SessionManaging.html#/s:13OnfleetDriver15SessionManagingP19changeActiveAccount2to10completionyAA0G0C_yycSgtF">SessionManaging.changeActiveAccount(to:completion:)</a></code> to switch to different account.
Host app should observe values in <code><a href="../Protocols/DriverManaging.html">DriverManaging</a></code> and accomodate UI to this change.</p>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Authentication"></a>
                <a name="//apple_ref/swift/Section/Authentication" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Authentication"></a>
                  <h3 class="section-name"><span>Authentication</span>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver15SessionManagingP15isAuthenticatedSbvp"></a>
                    <a name="//apple_ref/swift/Property/isAuthenticated" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver15SessionManagingP15isAuthenticatedSbvp">isAuthenticated</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns true if driver is authenticated; false otherwise.</p>

<p>Changes of this value can be observed using <code><a href="../Protocols/SessionManaging.html#/s:13OnfleetDriver15SessionManagingP14authenticated$AA10ObservableCySbGvp">authenticated$</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">isAuthenticated</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver15SessionManagingP14authenticated$AA10ObservableCySbGvp"></a>
                    <a name="//apple_ref/swift/Property/authenticated$" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver15SessionManagingP14authenticated$AA10ObservableCySbGvp">authenticated$</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Subscribe to changes of <code><a href="../Protocols/SessionManaging.html#/s:13OnfleetDriver15SessionManagingP15isAuthenticatedSbvp">isAuthenticated</a></code>.</p>

<p>Host app can observe changes of value of this property and update UI accordingly. If value returns
false a login UI should be displayed; main app flows otherwise.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    Driver can be logged out essentially any time, for example when a dispatcher removes
driver from org or if there is an unrecoverable auth failure. Observing this property is strongly advised.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">authenticated</span><span class="err">$</span><span class="p">:</span> <span class="kt">Observable</span><span class="o">&lt;</span><span class="kt">Bool</span><span class="o">&gt;</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver15SessionManagingP5login11credentials19newPasswordProvider019SMSVerificationCodeI014activityStatus10completionyAA11CredentialsV_yyAA03NewH6ResultOccyyAA019SMSCodeVerificationQ0OccSgyAA05LoginM0Ocys0Q0OySSAA0T5ErrorOGctF"></a>
                    <a name="//apple_ref/swift/Method/login(credentials:newPasswordProvider:SMSVerificationCodeProvider:activityStatus:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver15SessionManagingP5login11credentials19newPasswordProvider019SMSVerificationCodeI014activityStatus10completionyAA11CredentialsV_yyAA03NewH6ResultOccyyAA019SMSCodeVerificationQ0OccSgyAA05LoginM0Ocys0Q0OySSAA0T5ErrorOGctF">login(credentials:<wbr>newPasswordProvider:<wbr>SMSVerificationCodeProvider:<wbr>activityStatus:<wbr>completion:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Logs in.</p>

<p>When called, you can observe activityStatus closure with <code><a href="../Enums/LoginStatus.html">LoginStatus</a></code>. This closure can be called
multiple times each time the status value changed.</p>

<p>There are various steps that logion operation performs and sometimes the flow can be interrupted and
driver can be asked for SMS verification code or a new password. Currently SMS verification is managed
automatically by SDK byt the new password must be managed by client application. Use
<code>newPasswordProvider</code> closure to obtain new password from user and pass it to the SDK.</p>

<p>When login operation completes:</p>

<ul>
<li>the completion closure will be called</li>
<li><code><a href="../Protocols/SessionManaging.html#/s:13OnfleetDriver15SessionManagingP15isAuthenticatedSbvp">isAuthenticated</a></code> value will change to true</li>
<li><code><a href="../Protocols/SessionManaging.html#/s:13OnfleetDriver15SessionManagingP8accountsSayAA7AccountCGvp">accounts</a></code> value will fill with list of <code><a href="../Classes/Account.html">Account</a></code> objects.</li>
<li><p><code><a href="../Protocols/SessionManaging.html#/s:13OnfleetDriver15SessionManagingP13activeAccountAA0F0CSgvp">activeAccount</a></code> will be set</p></li>
</ul>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">login</span><span class="p">(</span><span class="nv">credentials</span><span class="p">:</span> <span class="kt"><a href="../Structs/Credentials.html">Credentials</a></span><span class="p">,</span>
           <span class="nv">newPasswordProvider</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt"><a href="../Typealiases/NewPasswordProvider.html">NewPasswordProvider</a></span><span class="p">,</span>
           <span class="kt">SMSVerificationCodeProvider</span><span class="p">:</span> <span class="kt">SMSCodeProvider</span><span class="p">?,</span>
           <span class="nv">activityStatus</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">(</span><span class="kt"><a href="../Enums/LoginStatus.html">LoginStatus</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">,</span>
           <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">LoginCompletionHandler</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>credentials</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An object with phone number and password.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>newPasswordProvider</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Closure may be called if SDK detects that driver uses temporary
password. Use the closure to retrieve new password and pass it back to the SDK to complete
the login process. You may defer the operation for later too.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>activityStatus</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Closure will be called each time there is a change is status. UI can show
and hide an activity indicator based on status values. See <code><a href="../Enums/LoginStatus.html">LoginStatus</a></code> for more details.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>Will be called when operation is finished. Result can contain
an effective password that was set by user if temp password used. For login error codes see
<code><a href="../Enums/LoginError.html">LoginError</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver15SessionManagingP6logout5force7started10completionySb_yycSgys6ResultOyytAA11LogoutErrorOGcSgtF"></a>
                    <a name="//apple_ref/swift/Method/logout(force:started:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver15SessionManagingP6logout5force7started10completionySb_yycSgys6ResultOyytAA11LogoutErrorOGcSgtF">logout(force:<wbr>started:<wbr>completion:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Logs out.</p>

<p>All data will be removed from disk. If driver was on duty this operation will put driver off duty. This
operation can however fail due to various reasons (see
<code><a href="../Protocols/DriverManaging.html#/s:13OnfleetDriver0B8ManagingP13setDutyStatus04goOnE010completionySb_ys6ResultOyytAA0eF5ErrorOGctF">DriverManaging.setDutyStatus(goOnDuty:completion:)</a></code> for list of conditions) and log
out operation will be cancelled. If you wish to ignore this you can specify <code>force</code> to true. Please note,
that if you force logout the server may not register this and tokens will not be invalidated. Use this
with caution.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">logout</span><span class="p">(</span><span class="nv">force</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">,</span> <span class="nv">started</span><span class="p">:</span> <span class="p">(()</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)?,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kt">LogoutCompletionHandler</span><span class="p">?)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>force</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>to ignore errors set to true</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>started</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>will be called when logout operation starts. This closure can be used to present
a progress view in UI.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>will be called when operation is finished</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver15SessionManagingP13resetPassword3for10completionyAA11PhoneNumberV_ys6ResultOyytAA05ResetF5ErrorOGctF"></a>
                    <a name="//apple_ref/swift/Method/resetPassword(for:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver15SessionManagingP13resetPassword3for10completionyAA11PhoneNumberV_ys6ResultOyytAA05ResetF5ErrorOGctF">resetPassword(for:<wbr>completion:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Resets password.</p>

<p>When password is reset a new temp password will be sent to the driver via SMS.
Driver can use this temp password to log in again. The login operation will ask to set new password.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">resetPassword</span><span class="p">(</span><span class="k">for</span> <span class="nv">phoneNumber</span><span class="p">:</span> <span class="kt"><a href="../Structs/PhoneNumber.html">PhoneNumber</a></span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">ResetPasswordHandler</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>phoneNumber</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>a phone number object.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>will be called when operation is finished</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Accounting"></a>
                <a name="//apple_ref/swift/Section/Accounting" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Accounting"></a>
                  <h3 class="section-name"><span>Accounting</span>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver15SessionManagingP8accountsSayAA7AccountCGvp"></a>
                    <a name="//apple_ref/swift/Property/accounts" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver15SessionManagingP8accountsSayAA7AccountCGvp">accounts</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Gets an array of accounts. Each account represents an organization in which the driver is assigned.</p>

<p>This list contains also accounts that have pending invitation. It is developer&rsquo;s responsibility to check
these accounts and respond using <code><a href="../Protocols/SessionManaging.html#/s:13OnfleetDriver15SessionManagingP19respondToInvitation7account8response10completionyAA7AccountC_AA0G8ResponseOys6ResultOyytAA9HTTPErrorOyAA7HttpApiO0P5ErrorVGGctF">respondToInvitation(account:response:completion:)</a></code>
See also <code><a href="../Classes/Account.html#/s:13OnfleetDriver7AccountC9isPendingSbvp">Account.isPending</a></code>.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">accounts</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Classes/Account.html">Account</a></span><span class="p">]</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver15SessionManagingP13activeAccountAA0F0CSgvp"></a>
                    <a name="//apple_ref/swift/Property/activeAccount" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver15SessionManagingP13activeAccountAA0F0CSgvp">activeAccount</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Currently active account.</p>

<p>Driver SDK automatically manages <code>activeAccount</code>. When driver logs in this value will be set to
to last know active account, first that is on duty or first account in list. Active account can be changed
any time using <code><a href="../Protocols/SessionManaging.html#/s:13OnfleetDriver15SessionManagingP19changeActiveAccount2to10completionyAA0G0C_yycSgtF">changeActiveAccount(to:completion:)</a></code></p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="k">var</span> <span class="nv">activeAccount</span><span class="p">:</span> <span class="kt"><a href="../Classes/Account.html">Account</a></span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver15SessionManagingP19changeActiveAccount2to10completionyAA0G0C_yycSgtF"></a>
                    <a name="//apple_ref/swift/Method/changeActiveAccount(to:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver15SessionManagingP19changeActiveAccount2to10completionyAA0G0C_yycSgtF">changeActiveAccount(to:<wbr>completion:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Changes active Account.</p>

<p>Change to already active account will call completion imediatelly. Upon calling completion block
this operation will also refetch fresh data for new account.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">changeActiveAccount</span><span class="p">(</span><span class="n">to</span> <span class="nv">account</span><span class="p">:</span> <span class="kt"><a href="../Classes/Account.html">Account</a></span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kt">ActiveAccountChangeHandler</span><span class="p">?)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>account</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>new account to be set as active.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>will be called when operation finishes.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver15SessionManagingP19respondToInvitation7account8response10completionyAA7AccountC_AA0G8ResponseOys6ResultOyytAA9HTTPErrorOyAA7HttpApiO0P5ErrorVGGctF"></a>
                    <a name="//apple_ref/swift/Method/respondToInvitation(account:response:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver15SessionManagingP19respondToInvitation7account8response10completionyAA7AccountC_AA0G8ResponseOys6ResultOyytAA9HTTPErrorOyAA7HttpApiO0P5ErrorVGGctF">respondToInvitation(account:<wbr>response:<wbr>completion:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Accepts or rejects invitation to new organizations.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">respondToInvitation</span><span class="p">(</span><span class="nv">account</span><span class="p">:</span> <span class="kt"><a href="../Classes/Account.html">Account</a></span><span class="p">,</span> <span class="nv">response</span><span class="p">:</span> <span class="kt"><a href="../Enums/InvitationResponse.html">InvitationResponse</a></span><span class="p">,</span> <span class="nv">completion</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="kt">AccountInvitationHandler</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>account</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>account to be accepted or rejected. Needs to be in INVITED state. See <code><a href="../Classes/Account.html#/s:13OnfleetDriver7AccountC9isPendingSbvp">Account.isPending</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>response</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>accept or reject invitation. See <code><a href="../Enums/InvitationResponse.html">InvitationResponse</a></code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>completion</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>will be called when operation finishes.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/"></a>
                    <a name="//apple_ref/swift/Method/removeAccount(_:completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/">removeAccount(_:<wbr>completion:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>© 2022 Onfleet, Inc.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
    </section>
  </body>
</html>
