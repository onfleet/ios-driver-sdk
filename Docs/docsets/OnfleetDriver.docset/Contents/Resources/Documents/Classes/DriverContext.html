<!DOCTYPE html>
<html lang="en">
  <head>
    <title>DriverContext Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset="utf-8">
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>

    <a name="//apple_ref/swift/Class/DriverContext" class="dashAnchor"></a>

    <a title="DriverContext Class Reference"></a>

    <header class="header">
      <p class="header-col header-col--primary">
        <a class="header-link" href="../index.html">
          Onfleet Driver SDK for iOS
        </a>
         (44% documented)
      </p>
    
    
        <p class="header-col header-col--secondary">
          <a class="header-link" href="https://github.com/onfleet/ios-driver-sdk">
            <img class="header-icon" src="../img/gh.png"/>
            View on GitHub
          </a>
        </p>
    
    </header>

    <p class="breadcrumbs">
      <a class="breadcrumb" href="../index.html">OnfleetDriver Reference</a>
      <img class="carat" src="../img/carat.png" />
      DriverContext Class Reference
    </p>

    <div class="content-wrapper">
      <nav class="navigation">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Driver%20Context.html">Driver Context</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/DriverContext.html">DriverContext</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Config.html">Config</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Session.html">Session</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/SessionManaging.html">SessionManaging</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Account.html">Account</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/LogoutReason.html">LogoutReason</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/InvitationResponse.html">InvitationResponse</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Credentials.html">Credentials</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PhoneNumber.html">PhoneNumber</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Driver.html">Driver</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/DriverManaging.html">DriverManaging</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/Driver.html">Driver</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Task.html">Task</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Task/Requirements.html">– Requirements</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Organization.html">Organization</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Organization/Billing.html">– Billing</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Vehicle.html">Vehicle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Address.html">Address</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Recipient.html">Recipient</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Destination.html">Destination</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Barcode.html">Barcode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/CompletedTasksProviding.html">CompletedTasksProviding</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask.html">CompletedTask</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/Requirements.html">– Requirements</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/CompletionDetails.html">– CompletionDetails</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/RecipientContainer.html">– RecipientContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/ComputedContainer.html">– ComputedContainer</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTask/Attachment.html">– Attachment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TaskCompletionDetails.html">TaskCompletionDetails</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TaskCompletionDetails/AgeVerification.html">– AgeVerification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/TaskCompletionDetails/Result.html">– Result</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Location.html">Location</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/LocationManaging.html">LocationManaging</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Attachments.html">Attachments</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/AttachmentsManaging.html">AttachmentsManaging</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/AttachmentsDelegate.html">AttachmentsDelegate</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/ImageAttachment.html">ImageAttachment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/PhotoAttachments.html">PhotoAttachments</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/SignatureAttachment.html">SignatureAttachment</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ImagePreparationResult.html">ImagePreparationResult</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Observables.html">Observables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Protocols/ObservableModel.html">ObservableModel</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/Model.html">Model</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ModelProperty.html">ModelProperty</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/ArrayModelProperty.html">ArrayModelProperty</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EquatableModelProperty.html">EquatableModelProperty</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Classes/EquatableOptionalModelProperty.html">EquatableOptionalModelProperty</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Guides.html">Other Guides</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../basic-usage.html">Basic Usage</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../installation.html">Installation</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Global%20Variables.html">Other Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Global%20Variables/SessionDidLogOutReasonKey.html">SessionDidLogOutReasonKey</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Enums.html">Other Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/AnalyticsTaskError.html">AnalyticsTaskError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/CompleteTaskError.html">CompleteTaskError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/DataState.html">DataState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/DutyStatusError.html">DutyStatusError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/FetchingState.html">FetchingState</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/FileLocation.html">FileLocation</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/HTTPError.html">HTTPError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/LoginError.html">LoginError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/LoginStatus.html">LoginStatus</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/RecipientContactMode.html">RecipientContactMode</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/ResetPasswordError.html">ResetPasswordError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/SelfAssignTaskError.html">SelfAssignTaskError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/StartTaskError.html">StartTaskError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/UnitSystem.html">UnitSystem</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/UpdateProfileError.html">UpdateProfileError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Enums/VehicleType.html">VehicleType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Extensions.html">Other Extensions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Notification.html">Notification</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Extensions/Notification/Name.html">– Name</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a class="nav-group-name-link" href="../Other%20Structs.html">Other Structures</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/APIError.html">APIError</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/AnalyticsStorgateFileName.html">AnalyticsStorgateFileName</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/BarcodeRequest.html">BarcodeRequest</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/CompletedTaskStats.html">CompletedTaskStats</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/DriverLicense.html">DriverLicense</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/DriverProfileDetails.html">DriverProfileDetails</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/DriverProfileDetails/Vehicle.html">– Vehicle</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Metadata.html">Metadata</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Metadata/ValueType.html">– ValueType</a>
              </li>
              <li class="nav-group-task">
                <a class="nav-group-task-link" href="../Structs/Metadata/Visibility.html">– Visibility</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">

        <section class="section">
          <div class="section-content top-matter">
            <h1>DriverContext</h1>
              <div class="declaration">
                <div class="language">
                  
                  <pre class="highlight swift"><code><span class="kd">@objcMembers</span>
<span class="kd">public</span> <span class="kd">final</span> <span class="kd">class</span> <span class="kt">DriverContext</span> <span class="p">:</span> <span class="kt">NSObject</span></code></pre>

                </div>
              </div>
            <p>Main SDK object that provides access to all services.</p>

<p>Access shared instance using <code><a href="../Classes/DriverContext.html#/c:@M@OnfleetDriver@objc(cs)DriverContext(cpy)shared">DriverContext.shared</a></code>. Before host app starts using <code>shared</code> it
must intitate SDK early at application launching sequence. See
<code><a href="../Classes/DriverContext.html#/c:@M@OnfleetDriver@objc(cs)DriverContext(im)initSDKWith:environment:app:loggers:">DriverContext.initSDK(with:environment:app:loggers:)</a></code>. To check if SDK has been already initialized you can
check <code><a href="../Classes/DriverContext.html#/c:@M@OnfleetDriver@objc(cs)DriverContext(py)isInitialized">DriverContext.isInitialized</a></code> property.</p>

<p>DriverContext provides access to following core services:</p>

<ol>
<li><strong>authentication and accounts</strong> -
After the SDK is initialized it is a good practice to check if <code><a href="../Protocols/SessionManaging.html#/s:13OnfleetDriver15SessionManagingP15isAuthenticatedSbvp">SessionManaging.isAuthenticated</a></code>
returns true. In that case the UI may show main driver/tasks flow, otherwise a login UI should be shown.
See <code><a href="../Protocols/SessionManaging.html">SessionManaging</a></code> for more info.</li>
<li><strong>driver and tasks</strong> -
If driver is successfuly authenticated host app can use <code><a href="../Protocols/DriverManaging.html">DriverManaging</a></code> protocol to hook up UI
to important observable properties such as active task, list of tasks, duty status, etc.
see <code><a href="../Protocols/DriverManaging.html">DriverManaging</a></code></li>
<li><strong>locations</strong> -
When driver is on duty the SDK tracks user&rsquo;s location and continously uploads it to the server thus the SDK
requires location permissions <strong>Always</strong> and precise location must be <strong>on</strong> when on duty.
See <code><a href="../Protocols/LocationManaging.html">LocationManaging</a></code> for more info.</li>
<li><strong>attachments uploads</strong> -
An active task can be supplemented with image attachments. These however don&rsquo;t block task completion
so they are uploaded on background after the task is completed. Host app can observe these events
and update UI accordingly. See <code><a href="../Protocols/AttachmentsManaging.html">AttachmentsManaging</a></code> for more info.</li>
<li><strong>data fetching and observing</strong> -
While SDK synchronizes data automatically on the background, sometimes there is a need to allow users
to refetch data, for example if there is an error or lost of connection. Also data fetching event can be observed
and updated UI accordingly. See <code><a href="../Classes/DriverContext.html#/s:13OnfleetDriver0B7ContextC11refetchData10completionyys6ResultOyyts5Error_pGcSg_tF">DriverContext.refetchData(completion:)</a></code> and methods
in dedicated section below for more info.</li>
<li><strong>push notifications</strong> -
Onfleet SDK uses push notfications to present important events in UI such as new tasks assigned or to
sync some data on the background. It is responsibility of host app to check in app delegate if incoming
push notification is owned by Onfleet using <code><a href="../Classes/DriverContext.html#/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)canHandleRemoteNotification:">DriverContext.canHandleRemoteNotification(_:)</a></code> and if yes it
must be forwarded to the SDK using <code><a href="../Classes/DriverContext.html#/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)handleRemoteNotificationWithUserInfo:">DriverContext.handleRemoteNotification(userInfo:)</a></code>. Please don&rsquo;t forget to forward
also APN device token using <code><a href="../Classes/DriverContext.html#/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)setRemoteNotificationsDeviceToken:">DriverContext.setRemoteNotificationsDeviceToken(_:)</a></code>
See methods in dedicated section below for more info.</li>
</ol>

          </div>
        </section>

        <section class="section">
          <div class="section-content">
            <div class="task-group">
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@OnfleetDriver@objc(cs)DriverContext(cpy)shared"></a>
                    <a name="//apple_ref/swift/Variable/shared" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@OnfleetDriver@objc(cs)DriverContext(cpy)shared">shared</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Shared instance of DriverContext.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="k">let</span> <span class="nv">shared</span><span class="p">:</span> <span class="kt">DriverContext</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@OnfleetDriver@objc(cs)DriverContext(py)config"></a>
                    <a name="//apple_ref/swift/Property/config" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@OnfleetDriver@objc(cs)DriverContext(py)config">config</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Current SDK configuration.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="k">var</span> <span class="nv">config</span><span class="p">:</span> <span class="kt"><a href="../Classes/Config.html">Config</a></span><span class="o">!</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@OnfleetDriver@objc(cs)DriverContext(py)isInitialized"></a>
                    <a name="//apple_ref/swift/Property/isInitialized" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@OnfleetDriver@objc(cs)DriverContext(py)isInitialized">isInitialized</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns true if SDK has been already initialized; false otherwise.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">private(set)</span> <span class="k">var</span> <span class="nv">isInitialized</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@M@OnfleetDriver@objc(cs)DriverContext(im)initSDKWith:environment:app:loggers:"></a>
                    <a name="//apple_ref/swift/Method/initSDK(with:environment:app:loggers:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@M@OnfleetDriver@objc(cs)DriverContext(im)initSDKWith:environment:app:loggers:">initSDK(with:<wbr>environment:<wbr>app:<wbr>loggers:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Initializes SDK.</p>

<p>Even thought <code>DriverContext</code> is a shared instance it has to be initialized once before it&rsquo;s used
first time. Ideal place is somewhere between application will/did finish launching. Subsequential
initializing does nothing.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">@objc</span>
<span class="kd">public</span> <span class="kd">func</span> <span class="nf">initSDK</span><span class="p">(</span><span class="n">with</span> <span class="nv">config</span><span class="p">:</span> <span class="kt"><a href="../Classes/Config.html">Config</a></span><span class="p">,</span> <span class="nv">environment</span><span class="p">:</span> <span class="kt">Environment</span><span class="p">,</span> <span class="nv">app</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="nv">loggers</span><span class="p">:</span> <span class="p">[</span><span class="kt">LoggerDestination</span><span class="p">])</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Parameters</h4>
                        <table class="graybox">
                          <tbody>
                            <tr>
                              <td>
                                <code>
                                <em>config</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>A config object that provides information about host application.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>environment</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>An environment that will be used. Please note that supported environment
is currently <code>Environment.production</code>.</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>app</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>UIApplication instance</p>
                                </div>
                              </td>
                            </tr>
                            <tr>
                              <td>
                                <code>
                                <em>loggers</em>
                                </code>
                              </td>
                              <td>
                                <div>
                                  <p>list of loggers that you can pass to SDK for logging. If you don&rsquo;t pass any loggers
SDK will not log anything. You can use your own logger that must adopt <code>LoggerDestination</code>
protocol or alternativelly you can simply pass <code>OSLogDestination</code> instance to use default
logger.</p>
                                </div>
                              </td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Access%20To%20Core%20Services"></a>
                <a name="//apple_ref/swift/Section/Access To Core Services" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Access%20To%20Core%20Services"></a>
                  <h3 class="section-name"><p>Access To Core Services</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver0B7ContextC7sessionAA15SessionManaging_pvp"></a>
                    <a name="//apple_ref/swift/Property/session" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver0B7ContextC7sessionAA15SessionManaging_pvp">session</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Getter for <code><a href="../Protocols/SessionManaging.html">SessionManaging</a></code>. It is used for authentication and accounting.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">session</span><span class="p">:</span> <span class="kt"><a href="../Protocols/SessionManaging.html">SessionManaging</a></span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver0B7ContextC13driverManagerAA0B8Managing_pvp"></a>
                    <a name="//apple_ref/swift/Property/driverManager" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver0B7ContextC13driverManagerAA0B8Managing_pvp">driverManager</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Getter for <code><a href="../Protocols/DriverManaging.html">DriverManaging</a></code>. It is used for managing driver and tasks.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">driverManager</span><span class="p">:</span> <span class="kt"><a href="../Protocols/DriverManaging.html">DriverManaging</a></span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver0B7ContextC8locationAA16LocationManaging_pvp"></a>
                    <a name="//apple_ref/swift/Property/location" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver0B7ContextC8locationAA16LocationManaging_pvp">location</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Getter for <code><a href="../Protocols/LocationManaging.html">LocationManaging</a></code>. It is used for observing last location and permissions.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">location</span><span class="p">:</span> <span class="kt"><a href="../Protocols/LocationManaging.html">LocationManaging</a></span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver0B7ContextC11attachmentsAA19AttachmentsManaging_pvp"></a>
                    <a name="//apple_ref/swift/Property/attachments" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver0B7ContextC11attachmentsAA19AttachmentsManaging_pvp">attachments</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Getter for <code><a href="../Protocols/AttachmentsManaging.html">AttachmentsManaging</a></code>. It is used for observing background uploads of attachments.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">attachments</span><span class="p">:</span> <span class="kt"><a href="../Protocols/AttachmentsManaging.html">AttachmentsManaging</a></span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@OnfleetDriver@objc(cs)DriverContext(py)deviceId"></a>
                    <a name="//apple_ref/swift/Property/deviceId" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@OnfleetDriver@objc(cs)DriverContext(py)deviceId">deviceId</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Getter for <code>deviceId</code> that is generated by SDK.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">deviceId</span><span class="p">:</span> <span class="kt">String</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Push%20Notifications"></a>
                <a name="//apple_ref/swift/Section/Push Notifications" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Push%20Notifications"></a>
                  <h3 class="section-name"><p>Push Notifications</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)setRemoteNotificationsDeviceToken:"></a>
                    <a name="//apple_ref/swift/Method/setRemoteNotificationsDeviceToken(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)setRemoteNotificationsDeviceToken:">setRemoteNotificationsDeviceToken(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Pass device token once obtained from app delegate</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">setRemoteNotificationsDeviceToken</span><span class="p">(</span><span class="n">_</span> <span class="nv">data</span><span class="p">:</span> <span class="kt">Data</span><span class="p">)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)canHandleRemoteNotification:"></a>
                    <a name="//apple_ref/swift/Method/canHandleRemoteNotification(_:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)canHandleRemoteNotification:">canHandleRemoteNotification(_:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>This can be used to determine if the notification will be handeled by SDK.</p>

<p>When a push notification is received you should use this method to determine wether it should be
passed to SDK via <code><a href="../Classes/DriverContext.html#/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)handleRemoteNotificationWithUserInfo:">DriverContext.handleRemoteNotification(userInfo:)</a></code> or not.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">canHandleRemoteNotification</span><span class="p">(</span><span class="n">_</span> <span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Bool</span></code></pre>

                        </div>
                      </div>
                      <div>
                        <h4>Return Value</h4>
                        <p>false if SDK does not handle the push notification&rsquo;s <code>userInfo</code>.</p>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)handleRemoteNotificationWithUserInfo:"></a>
                    <a name="//apple_ref/swift/Method/handleRemoteNotification(userInfo:)" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)handleRemoteNotificationWithUserInfo:">handleRemoteNotification(userInfo:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Handle remote notification passed from app delegate.</p>

<p>You can verify if SDK is capable of handling a push notification using
<code><a href="../Classes/DriverContext.html#/c:@CM@OnfleetDriver@objc(cs)DriverContext(im)canHandleRemoteNotification:">DriverContext.canHandleRemoteNotification(_:)</a></code>. If that method returns true you
don&rsquo;t have to pass push notification to SDK.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    This method uses old non-closure API.

</div>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">handleRemoteNotification</span><span class="p">(</span><span class="nv">userInfo</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span> <span class="p">:</span> <span class="kt">Any</span><span class="p">])</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
            <div class="task-group">
              <div class="task-name-container">
                <a name="/Data%20Fetching%20Methods"></a>
                <a name="//apple_ref/swift/Section/Data Fetching Methods" class="dashAnchor"></a>
                <div class="section-name-container">
                  <a class="section-name-link" href="#/Data%20Fetching%20Methods"></a>
                  <h3 class="section-name"><p>Data Fetching Methods</p>
</h3>
                </div>
              </div>
              <ul class="item-container">
                <li class="item">
                  <div>
                    <code>
                    <a name="/c:@CM@OnfleetDriver@objc(cs)DriverContext(py)isDataStale"></a>
                    <a name="//apple_ref/swift/Property/isDataStale" class="dashAnchor"></a>
                    <a class="token" href="#/c:@CM@OnfleetDriver@objc(cs)DriverContext(py)isDataStale">isDataStale</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Returns true if data is stale. This can happen if there is no connection to remote server for some time.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">isDataStale</span><span class="p">:</span> <span class="kt">Bool</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver0B7ContextC9dataStateAA22EquatableModelPropertyCyAA04DataE0OGvp"></a>
                    <a name="//apple_ref/swift/Property/dataState" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver0B7ContextC9dataStateAA22EquatableModelPropertyCyAA04DataE0OGvp">dataState</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Reports state of current data.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">dataState</span><span class="p">:</span> <span class="kt"><a href="../Classes/EquatableModelProperty.html">EquatableModelProperty</a></span><span class="o">&lt;</span><span class="kt"><a href="../Enums/DataState.html">DataState</a></span><span class="o">&gt;</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver0B7ContextC13fetchingStateAA22EquatableModelPropertyCyAA08FetchingE0OGvp"></a>
                    <a name="//apple_ref/swift/Property/fetchingState" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver0B7ContextC13fetchingStateAA22EquatableModelPropertyCyAA08FetchingE0OGvp">fetchingState</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Reporsts state of fetching operation</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">fetchingState</span><span class="p">:</span> <span class="kt"><a href="../Classes/EquatableModelProperty.html">EquatableModelProperty</a></span><span class="o">&lt;</span><span class="kt"><a href="../Enums/FetchingState.html">FetchingState</a></span><span class="o">&gt;</span> <span class="p">{</span> <span class="k">get</span> <span class="p">}</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:13OnfleetDriver0B7ContextC11refetchData10completionyys6ResultOyyts5Error_pGcSg_tF"></a>
                    <a name="//apple_ref/swift/Method/refetchData(completion:)" class="dashAnchor"></a>
                    <a class="token" href="#/s:13OnfleetDriver0B7ContextC11refetchData10completionyys6ResultOyyts5Error_pGcSg_tF">refetchData(completion:<wbr>)</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>Fetches data from remote server.</p>

<p>Data fetching works semi-automatically. SDK fetches data from remove server as needed and there is no need
to do any custom data fetching logic except when there is an error or data becomes stale. Host app can
implement manual fetching mechanism like pull to refresh or similar, see
<code>DriverContext.refetchData(completion:)</code> to refetch data any time .</p>

<p>After some time data can become stale, for example if there is no internet for a while. See <code><a href="../Classes/DriverContext.html#/c:@CM@OnfleetDriver@objc(cs)DriverContext(py)isDataStale">isDataStale</a></code>
or observe <code><a href="../Classes/DriverContext.html#/s:13OnfleetDriver0B7ContextC9dataStateAA22EquatableModelPropertyCyAA04DataE0OGvp">dataState</a></code> for changes. SDK can fetch data any time and if you wish to observe this event
you can subscribe to <code><a href="../Classes/DriverContext.html#/s:13OnfleetDriver0B7ContextC13fetchingStateAA22EquatableModelPropertyCyAA08FetchingE0OGvp">fetchingState</a></code>. It is a good practice to show in UI that data is stale, failed
fetching or being fetched.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">refetchData</span><span class="p">(</span><span class="nv">completion</span><span class="p">:</span> <span class="kt">RefetchDataHandler</span><span class="p">?)</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </div>
        </section>

      </article>
    </div>
    <section class="footer">
      <p>© 2021 Onfleet, Inc.</p>
      <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.6</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
    </section>
  </body>
</div>
</html>
